<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>AI Optimizer – Save 20‑40% on OpenAI</title>
  <style>
    body{font-family:system-ui,Arial,sans-serif;background:#f0f2f4;margin:0;padding:0;}
    .card{
      max-width: 480px;margin:5rem auto;background:#fff;padding:2rem;border-radius:8px;
      box-shadow:0 4px 12px rgba(0,0,0,.15);
      text-align:center;
    }
    h1{margin:0 0 .5rem;font-size:1.8rem;}
    p{margin:0 0 1.2rem;color:#555;}
    .price{font-size:2.2rem;color:#0066cc;font-weight:bold;}
    button{
      background:#0066cc;color:#fff;border:none;padding:.75rem 1.5rem;
      font-size:1rem;border-radius:5px;cursor:pointer;
    }
    button:hover{background:#005bb5;}
    #msg{margin-top:.8rem;color:#d93025;}
  </style>
</head>
<body>
  <div class="card">
    <h1>AI Optimizer</h1>
    <p>Cut your OpenAI bills by **up to 40 %** with a smart, open‑source optimizer.</p>
    <div class="price">$4.99 / mo</div>
    <p>7‑day free trial, no credit card required.</p>
    <button id="btn">Start free trial</button>
    <div id="msg"></div>
  </div>

  <script>
    const btn=document.getElementById('btn');
    const msg=document.getElementById('msg');
    btn.addEventListener('click', async e => {
      msg.textContent='Creating trial…';
      try{
        const res=await fetch('/v1/api/create-trial', {method: 'POST'});
        const {sessionId} = await res.json();
        // redirect to Stripe checkout
        const stripe = Stripe(); // Stripe.js auto‑loaded by Stripe itself if you included <script src="https://js.stripe.com/v3/"></script>
        stripe.redirectToCheckout({sessionId});
      }catch(err){msg.textContent=err.message||'Error';}
    });
  </script>
  <script src="https://js.stripe.com/v3/"></script>
</body>
</html>
